name: Pull Request Federation Check

on:
  pull_request_target:
    branches:
      - master
    paths:
      - 'generator/graphql-kotlin-federation/**'
      - 'integration/federation-compatibility/**'

jobs:
  federation-compatibility:
    uses: ./.github/workflows/federation-compatibility.yml
    with:
      fork: true
    secrets:
      token: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN }}

  federation-composition:
    uses: ./.github/workflows/federation-composition.yml
    with:
      fork: true
