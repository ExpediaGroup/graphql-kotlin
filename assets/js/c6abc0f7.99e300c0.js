"use strict";(self.webpackChunkgraphql_kotlin_docs=self.webpackChunkgraphql_kotlin_docs||[]).push([[24241],{51711(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>h});const a=JSON.parse('{"id":"schema-generator/execution/contextual-data","title":"Contextual Data","description":"All GraphQL servers have a concept of a \\"context\\". A GraphQL context contains metadata that is useful to the GraphQL","source":"@site/versioned_docs/version-9.x.x/schema-generator/execution/contextual-data.md","sourceDirName":"schema-generator/execution","slug":"/schema-generator/execution/contextual-data","permalink":"/graphql-kotlin/docs/schema-generator/execution/contextual-data","draft":false,"unlisted":false,"editUrl":"https://github.com/ExpediaGroup/graphql-kotlin/tree/master/website/versioned_docs/version-9.x.x/schema-generator/execution/contextual-data.md","tags":[],"version":"9.x.x","lastUpdatedBy":"Samuel Vazquez","lastUpdatedAt":1772057072000,"frontMatter":{"id":"contextual-data","title":"Contextual Data"},"sidebar":"docs","previous":{"title":"Data Fetching Environment","permalink":"/graphql-kotlin/docs/schema-generator/execution/data-fetching-environment"},"next":{"title":"Optional Undefined Arguments","permalink":"/graphql-kotlin/docs/schema-generator/execution/optional-undefined-arguments"}}');var o=n(74848),r=n(28453);const s={id:"contextual-data",title:"Contextual Data"},i=void 0,c={},h=[{value:"GraphQL Context Map",id:"graphql-context-map",level:2}];function l(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:['All GraphQL servers have a concept of a "context". A GraphQL context contains metadata that is useful to the GraphQL\nserver, but shouldn\'t necessarily be part of the GraphQL schema. A prime example of something that is appropriate\nfor the GraphQL context would be trace headers for an OpenTracing system such as\n',(0,o.jsx)(t.a,{href:"https://expediadotcom.github.io/haystack",children:"Haystack"}),". The GraphQL query does not need the information to perform\nits function, but the server needs the information to ensure observability."]}),"\n",(0,o.jsxs)(t.p,{children:["The contents of the GraphQL context vary across applications and it is up to the GraphQL server developers to decide\nwhat it should contain. ",(0,o.jsx)(t.code,{children:"graphql-kotlin-server"})," provides a simple mechanism to build a context per operation with the\n",(0,o.jsx)(t.a,{href:"/graphql-kotlin/docs/server/graphql-context-factory",children:"GraphQLContextFactory"}),".\nIf a custom factory is defined, it will then be used to populate GraphQL context based on the incoming request and make\nit available during execution."]}),"\n",(0,o.jsx)(t.h2,{id:"graphql-context-map",children:"GraphQL Context Map"}),"\n",(0,o.jsxs)(t.p,{children:["In graphql-java v17 a new context map was added to the ",(0,o.jsx)(t.code,{children:"DataFetchingEnvironment"}),". This is now the way of saving info for execution, and\nyou can access this map through the ",(0,o.jsx)(t.a,{href:"/graphql-kotlin/docs/schema-generator/execution/data-fetching-environment",children:"DataFetchingEnvironment"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-kotlin",children:'class ContextualQuery : Query {\n    fun contextualQuery(\n        dataFetchingEnvironment: DataFetchingEnvironment,\n        value: Int\n    ): String =\n        "The custom value was ${dataFetchingEnvironment.graphQLContext.get("foo")} and the value was $value"\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453(e,t,n){n.d(t,{R:()=>s,x:()=>i});var a=n(96540);const o={},r=a.createContext(o);function s(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);