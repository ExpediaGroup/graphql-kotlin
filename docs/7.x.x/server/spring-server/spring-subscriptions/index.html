<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-7.x.x docs-doc-page docs-doc-id-server/spring-server/spring-subscriptions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Subscriptions | GraphQL Kotlin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://expediagroup.github.io/graphql-kotlin/img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://expediagroup.github.io/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="7.x.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-7.x.x"><meta data-rh="true" name="docsearch:version" content="7.x.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-7.x.x"><meta data-rh="true" property="og:title" content="Subscriptions | GraphQL Kotlin"><meta data-rh="true" name="description" content="_To see more details on how to implement subscriptions in your schema, see the schema generator docs on executing subscriptions."><meta data-rh="true" property="og:description" content="_To see more details on how to implement subscriptions in your schema, see the schema generator docs on executing subscriptions."><link data-rh="true" rel="icon" href="/graphql-kotlin/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://expediagroup.github.io/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions"><link data-rh="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions" hreflang="en"><link data-rh="true" rel="alternate" href="https://expediagroup.github.io/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B2J35I9RRE-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Subscriptions","item":"https://expediagroup.github.io/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="GraphQL Kotlin" href="/graphql-kotlin/opensearch.xml">

<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/graphql-kotlin/assets/css/styles.b2b45b26.css">
<script src="/graphql-kotlin/assets/js/runtime~main.82bdf1dd.js" defer="defer"></script>
<script src="/graphql-kotlin/assets/js/main.827a11be.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/graphql-kotlin/docs"><div class="navbar__logo"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/graphql-kotlin/img/EG_Icon_White_on_Blue.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GraphQL Kotlin</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ExpediaGroup/graphql-kotlin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions">7.x.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/graphql-kotlin/docs/10.x.x/server/spring-server/spring-subscriptions">pre-release</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/server/spring-server/spring-subscriptions">9.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/8.x.x/server/spring-server/spring-subscriptions">8.x.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions">7.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/6.x.x/server/spring-server/spring-subscriptions">6.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/5.x.x/server/spring-server/spring-subscriptions">5.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/4.x.x/server/spring-server/spring-subscriptions">4.x.x</a></li><li><a class="dropdown__link" href="/graphql-kotlin/docs/3.x.x/">3.x.x</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/graphql-kotlin/docs/7.x.x/"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/graphql-kotlin/docs/7.x.x/schema-generator/schema-generator-getting-started"><span title="Schema Generator" class="categoryLinkLabel_W154">Schema Generator</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/graphql-kotlin/docs/7.x.x/server/graphql-server"><span title="Server" class="categoryLinkLabel_W154">Server</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/graphql-server"><span title="GraphQLServer" class="linkLabel_WmDU">GraphQLServer</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/graphql-request-parser"><span title="GraphQLRequestParser" class="linkLabel_WmDU">GraphQLRequestParser</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/graphql-context-factory"><span title="GraphQLContextFactory" class="linkLabel_WmDU">GraphQLContextFactory</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/graphql-request-handler"><span title="GraphQLRequestHandler" class="linkLabel_WmDU">GraphQLRequestHandler</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/server-subscriptions"><span title="Subscriptions" class="linkLabel_WmDU">Subscriptions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/automatic-persisted-queries/"><span title="Automatic Persisted Queries (APQ)" class="linkLabel_WmDU">Automatic Persisted Queries (APQ)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/data-loader/"><span title="Data Loader" class="categoryLinkLabel_W154">Data Loader</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-overview"><span title="Spring Server" class="categoryLinkLabel_W154">Spring Server</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-overview"><span title="Spring Server Overview" class="linkLabel_WmDU">Spring Server Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-schema"><span title="Writing Schemas with Spring" class="linkLabel_WmDU">Writing Schemas with Spring</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-graphql-context"><span title="Generating GraphQL Context" class="linkLabel_WmDU">Generating GraphQL Context</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-http-request-response"><span title="HTTP Request and Response" class="linkLabel_WmDU">HTTP Request and Response</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-beans"><span title="Automatically Created Beans" class="linkLabel_WmDU">Automatically Created Beans</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-properties"><span title="Configuration Properties" class="linkLabel_WmDU">Configuration Properties</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-subscriptions"><span title="Subscriptions" class="linkLabel_WmDU">Subscriptions</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/graphql-kotlin/docs/7.x.x/server/ktor-server/ktor-overview"><span title="Ktor Server Plugin" class="categoryLinkLabel_W154">Ktor Server Plugin</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/graphql-kotlin/docs/7.x.x/client/client-overview"><span title="Client" class="categoryLinkLabel_W154">Client</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/graphql-kotlin/docs/7.x.x/plugins/gradle-plugin-tasks"><span title="Build Plugins" class="categoryLinkLabel_W154">Build Plugins</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->GraphQL Kotlin<!-- --> <b>7.x.x</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/graphql-kotlin/docs/server/spring-server/spring-subscriptions">latest version</a></b> (<!-- -->9.x.x<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/graphql-kotlin/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Server</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Spring Server</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Subscriptions</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 7.x.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Subscriptions</h1></header><p><em>To see more details on how to implement subscriptions in your schema, see the schema generator docs on <a class="" href="/graphql-kotlin/docs/7.x.x/schema-generator/execution/subscriptions">executing subscriptions</a>.
This page lists the <code>graphql-kotlin-spring-server</code> specific features.</em></p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="flow-support">Flow Support<a href="#flow-support" class="hash-link" aria-label="Direct link to Flow Support" title="Direct link to Flow Support" translate="no">​</a></h2>
<p><code>graphql-kotlin-spring-server</code> provides automatic support for Kotlin <code>Flow</code> by automatically configuring <code>FlowSubscriptionSchemaGeneratorHooks</code>
and <code>FlowSubscriptionExecutionStrategy</code> beans.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If you define your subscriptions using Kotlin <code>Flow</code>, make sure to extend <code>FlowSubscriptionSchemaGeneratorHooks</code> whenever you need to provide some custom hooks.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscription-protocols">Subscription Protocols<a href="#subscription-protocols" class="hash-link" aria-label="Direct link to Subscription Protocols" title="Direct link to Subscription Protocols" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="graphql-transport-ws-subprotocol"><code>graphql-transport-ws</code> subprotocol<a href="#graphql-transport-ws-subprotocol" class="hash-link" aria-label="Direct link to graphql-transport-ws-subprotocol" title="Direct link to graphql-transport-ws-subprotocol" translate="no">​</a></h3>
<p>We have implemented subscriptions in Spring WebSockets following the <a href="https://github.com/enisdenjo/graphql-ws" target="_blank" rel="noopener noreferrer" class=""><code>graphql-transport-ws</code> subprotocol</a>
from <a href="https://the-guild.dev/" target="_blank" rel="noopener noreferrer" class="">The Guild</a>. This requires that your client send and parse messages in a specific format.
See protocol documentation for expected messages.</p>
<p><code>graphql-transport-ws</code> is the default subscription protocol that is enabled by default.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="deprecated-subscriptions-transport-ws-subprotocol">(deprecated) <code>subscriptions-transport-ws</code> subprotocol<a href="#deprecated-subscriptions-transport-ws-subprotocol" class="hash-link" aria-label="Direct link to deprecated-subscriptions-transport-ws-subprotocol" title="Direct link to deprecated-subscriptions-transport-ws-subprotocol" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p><code>subscriptions-transport-ws</code> was deprecated in favor of <a href="https://github.com/enisdenjo/graphql-ws" target="_blank" rel="noopener noreferrer" class=""><code>graphql-transport-ws</code> protocol</a>.</p></div></div>
<p>We have implemented subscriptions in Spring WebSockets following the <a href="https://github.com/apollographql/subscriptions-transport-ws/blob/master/PROTOCOL.md" target="_blank" rel="noopener noreferrer" class=""><code>subscriptions-transport-ws</code> subprotocol</a>
defined by <a href="https://www.apollographql.com/" target="_blank" rel="noopener noreferrer" class="">Apollo</a>. This requires that your client send and parse messages in a specific
format. See protocol documentation for expected messages.</p>
<p><code>subscription-transport-ws</code> is deprecated. In order to use it, you need to explicitly opt-in by specifying <code>graphql.subscriptions.protocol=APOLLO_SUBSCRIPTIONS_WS</code>
configuration property. Support for this protocol will be removed in the next major release.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscription-hooks">Subscription Hooks<a href="#subscription-hooks" class="hash-link" aria-label="Direct link to Subscription Hooks" title="Direct link to Subscription Hooks" translate="no">​</a></h2>
<p>In line with the Apollo protocol, we have implemented hooks to execute functions at different stages of the connection lifecycle.
If you would like to implement your own subscription hooks, you can provide a primary spring bean for <code>ApolloSubscriptionHooks</code> that overrides the <a class="" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-beans">default one</a> which do not perform any actions.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="onconnect--onconnectwithcontext"><code>onConnect</code> / <code>onConnectWithContext</code><a href="#onconnect--onconnectwithcontext" class="hash-link" aria-label="Direct link to onconnect--onconnectwithcontext" title="Direct link to onconnect--onconnectwithcontext" translate="no">​</a></h3>
<p>Allows validation of connectionParams prior to starting the connection.
You can reject the connection by throwing an exception.
If you need to forward state to execution, update and return the <a class="" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-graphql-context">GraphQLContext</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="onoperation--onoperationwithcontext"><code>onOperation</code> / <code>onOperationWithContext</code><a href="#onoperation--onoperationwithcontext" class="hash-link" aria-label="Direct link to onoperation--onoperationwithcontext" title="Direct link to onoperation--onoperationwithcontext" translate="no">​</a></h3>
<p>Called when the client executes a GraphQL operation. The context can not be updated here, it is read only.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="onoperationcomplete"><code>onOperationComplete</code><a href="#onoperationcomplete" class="hash-link" aria-label="Direct link to onoperationcomplete" title="Direct link to onoperationcomplete" translate="no">​</a></h3>
<p>Called when client&#x27;s unsubscribes</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ondisconnect"><code>onDisconnect</code><a href="#ondisconnect" class="hash-link" aria-label="Direct link to ondisconnect" title="Direct link to ondisconnect" translate="no">​</a></h3>
<p>Called when the client disconnects</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example" translate="no">​</a></h2>
<p>You can see an example implementation of a <code>Subscription</code> in the <a href="https://github.com/ExpediaGroup/graphql-kotlin/blob/master/examples/server/spring-server/src/main/kotlin/com/expediagroup/graphql/examples/server/spring/subscriptions/SimpleSubscription.kt" target="_blank" rel="noopener noreferrer" class="">example app</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/ExpediaGroup/graphql-kotlin/tree/master/website/versioned_docs/version-7.x.x/server/spring-server/spring-subscriptions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-25T22:04:32.000Z" itemprop="dateModified">Feb 25, 2026</time></b> by <b>Samuel Vazquez</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/graphql-kotlin/docs/7.x.x/server/spring-server/spring-properties"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuration Properties</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/graphql-kotlin/docs/7.x.x/server/ktor-server/ktor-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ktor Server Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#flow-support" class="table-of-contents__link toc-highlight">Flow Support</a></li><li><a href="#subscription-protocols" class="table-of-contents__link toc-highlight">Subscription Protocols</a><ul><li><a href="#graphql-transport-ws-subprotocol" class="table-of-contents__link toc-highlight"><code>graphql-transport-ws</code> subprotocol</a></li><li><a href="#deprecated-subscriptions-transport-ws-subprotocol" class="table-of-contents__link toc-highlight">(deprecated) <code>subscriptions-transport-ws</code> subprotocol</a></li></ul></li><li><a href="#subscription-hooks" class="table-of-contents__link toc-highlight">Subscription Hooks</a><ul><li><a href="#onconnect--onconnectwithcontext" class="table-of-contents__link toc-highlight"><code>onConnect</code> / <code>onConnectWithContext</code></a></li><li><a href="#onoperation--onoperationwithcontext" class="table-of-contents__link toc-highlight"><code>onOperation</code> / <code>onOperationWithContext</code></a></li><li><a href="#onoperationcomplete" class="table-of-contents__link toc-highlight"><code>onOperationComplete</code></a></li><li><a href="#ondisconnect" class="table-of-contents__link toc-highlight"><code>onDisconnect</code></a></li></ul></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/graphql-kotlin/img/Expedia-Group-Logo_E-Stacked.png" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2023 Expedia, Inc.</div></div></div></footer></div>
</body>
</html>